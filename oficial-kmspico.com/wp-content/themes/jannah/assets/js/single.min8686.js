var $the_post=jQuery("#the-post"),$postContent=$the_post.find(".entry");$doc.ready(function(){"use strict";function t(t){var e;if(!t)var t=window.event;return t.which?e=3==t.which:t.button&&(e=2==t.button),e}function e(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(t=document.selection.createRange().text),t}if($doc.on("click","#toggle-post-button",function(){return $postContent.toggleClass("is-expanded"),jQuery(this).hide(),!1}),$doc.on("click",".print-share-btn",function(){return window.print(),!1}),tie.responsive_tables&&$the_post.find("table").wrap('<div class="table-is-responsive"></div>'),jQuery('[data-toggle="tooltip"]').tietooltip(),$doc.on("click",".share-links a:not(.email-share-btn)",function(){var t=jQuery(this).attr("href");return"#"!=t?(window.open(t,"TIEshare","height=450,width=760,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),!1):void 0}),tie.is_sticky_video&&jQuery("#the-sticky-video").length){var o=jQuery("#the-sticky-video"),i=o.offset().top,n=tie.sticky_desktop?60:0,n=$body.hasClass("admin-bar")?n+32:n,s=Math.floor(i+o.outerHeight()-n),r=$window.width();jQuery(".video-close-btn").click(function(){o.removeClass("video-is-sticky").addClass("stop-sticky")}),$window.on("resize load",function(){if(i=o.offset().top,s=Math.floor(i+o.outerHeight()-n),r=$window.width(),$body.hasClass("has-sidebar")){var t=jQuery(".sidebar"),e=t.width(),a=$body.hasClass("magazine2")&&$body.hasClass("sidebar-right")?40:15,l=$window.width()-(t.offset().left+e);o.find(".featured-area-inner").css({width:e,height:e*(9/16),right:l-a,left:"auto",top:n+20})}}).on("scroll",function(){o.hasClass("stop-sticky")||o.toggleClass("video-is-sticky",$window.scrollTop()>s&&r>992)})}if(tie.reading_indicator&&$postContent.length){var a=$postContent.height(),l=$window.height();$window.scroll(function(){var t=0,e=$postContent.offset().top,o=$window.scrollTop();o>e&&(t=100*(o-e)/(a-l)),jQuery("#reading-position-indicator").css("width",t+"%")})}var h=jQuery("#check-also-box");if(h.length){tie_animate_element(h);var p=$the_post.outerHeight(),c=!1;$window.scroll(function(){if(!c){var t=$window.scrollTop();t>p?h.addClass("show-check-also"):h.removeClass("show-check-also")}})}jQuery("#check-also-close").on("click",function(){return h.removeClass("show-check-also"),c=!0,!1}),tie.select_share&&($postContent.mousedown(function(o){$body.attr("mouse-top",o.clientY+window.pageYOffset),$body.attr("mouse-left",o.clientX),!t(o)&&e().length&&(jQuery(".fly-text-share").remove(),document.getSelection().removeAllRanges())}),$postContent.mouseup(function(o){var i=(jQuery(o.target),e()),n=i;if(i.length>3&&!t(o)){var s=$body.attr("mouse-top"),r=o.clientY+window.pageYOffset;parseInt(s)<parseInt(r)&&(r=s);var a=$body.attr("mouse-left"),l=o.clientX,h=parseInt(a)+(parseInt(l)-parseInt(a))/2,p=window.location.href.split("?")[0],c=114;i=i.substring(0,c),tie.twitter_username&&(c-=tie.twitter_username.length+2,i=i.substring(0,c),i=i+" @"+tie.twitter_username);var d="";tie.select_share_twitter&&(d+='<a href="https://twitter.com/share?url='+encodeURIComponent(p)+"&text="+encodeURIComponent(i)+"\" class='fa fa-twitter' onclick=\"window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;\"></a>"),tie.select_share_facebook&&tie.facebook_app_id&&(d+='<a href="https://www.facebook.com/dialog/feed?app_id='+tie.facebook_app_id+"&amp;link="+encodeURIComponent(p)+"&amp;quote="+encodeURIComponent(n)+"\" class='fa fa-facebook' onclick=\"window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;\"></a>"),tie.select_share_linkedin&&(d+='<a href="https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(p)+"&summary="+encodeURIComponent(n)+"\" class='fa fa-linkedin' onclick=\"window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;\"></a>"),tie.select_share_email&&(d+='<a href="mailto:?body='+encodeURIComponent(n)+" "+encodeURIComponent(p)+"\" class='fa fa-envelope' onclick=\"window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;\"></a>"),""!=d&&$body.append('<div class="fly-text-share">'+d+"</div>"),jQuery(".fly-text-share").css({position:"absolute",top:parseInt(r)-60,left:parseInt(h)}).show()}})),$doc.on("mousemove",".taq-user-rate-active",function(t){var e=jQuery(this);if(e.hasClass("rated-done"))return!1;t.offsetX||(t.offsetX=t.clientX-jQuery(t.target).offset().left);var o=t.offsetX,i=e.width(),n=Math.round(o/i*100);e.find(".user-rate-image span").attr("data-user-rate",n).css("width",n+"%")}),$doc.on("click",".taq-user-rate-active",function(){var t=jQuery(this),e=t.parent(),o=e.find(".taq-count"),i=t.attr("data-id"),n=o.text();if(t.hasClass("rated-done")||t.hasClass("rated-in-progress"))return!1;t.addClass("rated-in-progress");var s=t.find(".user-rate-image span").data("user-rate");t.find(".user-rate-image").hide(),t.append('<span class="taq-load">'+tie.ajax_loader+"</span>"),s>=95&&(s=100);var r=5*s/100;return jQuery.post(taqyeem.ajaxurl,{action:"taqyeem_rate_post",post:i,value:r},function(){t.addClass("rated-done").attr("data-rate",s),t.find(".user-rate-image span").width(s+"%"),jQuery(".taq-load").fadeOut(function(){e.find(".taq-score").html(r),o.length?(n=parseInt(n)+1,o.html(n)):e.find("small").hide(),e.find("strong").html(taqyeem.your_rating),t.find(".user-rate-image").fadeIn()})},"html"),!1}),$doc.on("mouseleave",".taq-user-rate-active",function(){var t=jQuery(this);if(t.hasClass("rated-done"))return!1;var e=t.attr("data-rate");t.find(".user-rate-image span").css("width",e+"%")})});
